{"version":3,"sources":["/src/js/containers/admin/reportForm/siteAddDataDay.js"],"names":[],"mappings":"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","file":"/src/js/containers/admin/reportForm/siteAddDataDay.js","sourcesContent":["/**\r\n * Created by gaolei on 2017/4/21.\r\n *\r\n * 全辖站点增量日报（签约、数据、落地情况）-日\r\n */\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport CenterTopNav from '../../components/public/centerTopNav';\r\nimport {browserHistory } from 'react-router';\r\nimport Pagination from '../../components/public/pagination';\r\nimport {dialogHandle} from '../../actions/dialog';\r\nimport SelectBox from '../../components/public/selectBox';\r\nimport ReportFormTable from '../../components/public/reportFormTable';\r\nimport {queryProvince,getBankTypeCodes} from '../../actions/reportForm/public/common';\r\nimport {siteAddDataDayHandle,siteAddDataDayLoadData,siteAddDataDayExport} from '../../actions/reportForm/siteAddDataDay';\r\nimport ExportButton from '../../components/reportForm/exportButton';\r\n\r\n\r\nclass siteAddDataDayMain extends React.Component {\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.resetFun(true);\r\n\t\tvar _that = this;\r\n        $(function() {        \t\r\n            $( \"#datepicker\" ).datepicker({\r\n            \tdateFormat: 'yy-mm-dd',\r\n            \tmaxDate:-1,\r\n            \tchangeYear: true,          // 年下拉菜单\r\n                changeMonth: true,             // 月下拉菜单\r\n            \tonSelect: function (date) {\r\n            \t\t_that.props._siteAddDataDayHandle({\r\n\t\t\t            reportDate: date\r\n\t\t\t        });\r\n\t            }\r\n            });\r\n        });\r\n        this.props._queryProvince({\r\n        \treportName:\"nodeincDaily\"\r\n        });\r\n        this.props._getBankTypeCodes({\r\n        \treportName:\"nodeincDaily\"\r\n        });\r\n        \r\n    }\r\n\t\r\n\t//加载分页插件\r\n    loadPage(options) {\r\n        this.props._siteAddDataDayHandle({\r\n            loadPageFlag: false\r\n        });\r\n        this.pageNavClick(1,10,options);\r\n    }\r\n\t//调用分页加载\r\n    pageNavClick(n,pageSize,options) {\r\n        this.props._siteAddDataDayHandle({\r\n            curPage: n,\r\n            pageLimit:pageSize\r\n        });\r\n        if(n==Math.ceil(this.props.siteAddDataDay.totalSize/pageSize)){\r\n            //当前是最后一页\r\n            this.props._siteAddDataDayHandle({\r\n                showTotal:true\r\n            });\r\n        }else{\r\n            this.props._siteAddDataDayHandle({\r\n                showTotal:false\r\n            });\r\n        }\r\n        this.loadData(n,pageSize,options?options:this.props.siteAddDataDay.temp_options);\r\n    }\r\n    //加载数据\r\n    loadData(n,pageSize,options){\r\n    \t//加载中\r\n        this.props._siteAddDataDayHandle({\r\n            curPage: n,\r\n            pageLimit:pageSize\r\n        });        \r\n        let ajaxData = {\r\n        \tcurPage: n,//当前页\r\n            pageSize: pageSize,//每页多少行\r\n            reportType:\"0\",//报表类型(日/月)\r\n            reportDate: options.reportDate,//数据日期\r\n            provinceName: options.province.name=='全部'?'':options.province.name,//省名字\r\n            bankTypeCode: options.bank=='全部'?'':options.bank,//银行code\r\n        };\r\n    \tthis.props._siteAddDataDayLoadData({\r\n    \t\tdata:ajaxData\r\n        });\r\n    }\r\n    \r\n    selectClick(id,val,name){\r\n        switch(id){\r\n            case 1 :\r\n                this.props._siteAddDataDayHandle({\r\n                    province:{val:val,name:name}\r\n                })\r\n\r\n                break;\r\n            case 4 :\r\n                this.props._siteAddDataDayHandle({\r\n                    bank:val\r\n                })\r\n                break;\r\n            default :\r\n                break;\r\n        }\r\n    }\r\n    \r\n    //省\r\n    showProvince(){\r\n        let arr=[{value:\"\",name:\"全部\"}];\r\n        let temp_arr=[];\r\n        this.props.reportFormCommon.provinceList.map((val,key)=>{\r\n            temp_arr.push({value:val.districtCode,name:val.districtName})\r\n        });\r\n        return arr.concat(temp_arr);\r\n    }\r\n\r\n\t//银行\r\n    showBank(){\r\n        let arr=[{value:\"\",name:\"全部\"}];\r\n        let temp_arr=[];\r\n        this.props.reportFormCommon.bankList.map((val,key)=>{\r\n            temp_arr.push({value:val.bankTypeCode,name:val.bankTypeName})\r\n        });\r\n        return arr.concat(temp_arr);\r\n    }\r\n\r\n\t//查询\r\n\tqueryData(){\r\n\t\tif(this.props.siteAddDataDay.tbodyList=='loading'){\r\n\t\t\tthis.props._dialogHandle({\r\n                type: \"tips\",\r\n                time: 2000,\r\n                content: \"正在查询中，请耐心等待！\",\r\n                tipsType: \"warning\",\r\n                show: true\r\n            })\r\n\t\t}else{\r\n\t\t\tlet options = {\r\n\t\t\t\treportDate:this.props.siteAddDataDay.reportDate,//报表类型(日/月)\r\n\t\t\t\tprovince:this.props.siteAddDataDay.province,//省名字\r\n\t\t\t\tbank:this.props.siteAddDataDay.bank,//银行code\r\n\t\t\t};\r\n\t\t\tthis.props._siteAddDataDayHandle({\r\n\t\t\t\ttbodyList: 'loading',\r\n\t\t\t\ttemp_options:options\r\n\t\t\t});\r\n\t\t\tthis.loadData(1,this.props.siteAddDataDay.pageLimit,options);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t//重置\r\n\tresetFun(bool){\r\n\t\tif(bool===true){\r\n\t\t\tlet options={\r\n\t            reportDate:moment().subtract(1,\"days\").format('YYYY-MM-DD'),//数据日期\r\n\t\t        province:{val:'',name:''},//选中的省\r\n\t\t        bank:\"\",//银行code\r\n            };\r\n           //初次进入页面，所有参数初始化\r\n           this.props._siteAddDataDayHandle({\r\n\t            reportDate:moment().subtract(1,\"days\").format('YYYY-MM-DD'),//数据日期\r\n\t\t        province:{val:'',name:''},//选中的省\r\n\t\t        bank:\"\",//银行code\r\n                temp_options:options\r\n           });\r\n           //进入页面发起默认请求加载数据\r\n           this.loadPage(options);\r\n\t\t}else{\r\n\t\t\tthis.props._siteAddDataDayHandle({\r\n\t            reportDate:moment().subtract(1,\"days\").format('YYYY-MM-DD'),//数据日期\r\n\t\t        province:{val:'',name:''},//选中的省\r\n\t\t        bank:\"\",//银行code\r\n\t        });\r\n\t\t}\r\n\t\tthis.selectClick(1,'','');\r\n\t}\r\n\t//导出报表\r\n    exportExcel(){\r\n        let options=this.props.siteAddDataDay.temp_options;\r\n        this.props._siteAddDataDayExport({\r\n            reportType:\"0\",//报表类型(日/月)\r\n            reportDate: options.reportDate,//数据日期\r\n            provinceName: options.province.name=='全部'?'':options.province.name,//省名字\r\n            bankTypeCode: options.bank=='全部'?'':options.bank,//银行code\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"height100p\">\r\n                <CenterTopNav title=\"全辖站点增量日报\" parentList={[{name:\"数据报表\"},{name:\"银行业务日报\"}]} />\r\n                <div className=\"height100pY plr26\">\r\n\t\t\t\t\t{/*form content begin*/}\r\n\t\t\t\t\t<div className=\"pub-form-top clearfix\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span>数据日期:</span>\r\n\t\t\t\t\t\t\t\t<input id=\"datepicker\" type=\"text\" value={this.props.siteAddDataDay.reportDate} readOnly />\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n                                <span>省份:</span>\r\n                                <SelectBox\r\n                                    callBack={this.selectClick.bind(this,1)}\r\n                                    value={this.props.siteAddDataDay.province.val}\r\n                                    list={this.showProvince()}\r\n                                />\r\n                            </li>\r\n                            <li>\r\n                                <span>合作银行:</span>\r\n                                <SelectBox\r\n                                    callBack={this.selectClick.bind(this,4)}\r\n                                    value={this.props.siteAddDataDay.bank}\r\n                                    list={this.showBank()}\r\n                                />\r\n                            </li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"pub-form-btns clearfix\">\r\n\t\t\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t\t\t<button onClick={this.queryData.bind(this)}>查询</button>\r\n\t\t\t\t\t\t\t\t<button onClick={this.resetFun.bind(this)}>重置</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<ExportButton\r\n                               data={this.props.login.Jurisdiction.ReportForm.btns.siteAddDataDay}\r\n                               clickBack={this.exportExcel.bind(this)}\r\n                            />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*form content end*/}\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/*content begin*/}\r\n\t\t\t\t\t<div className=\"form-content-wrap\">\r\n\t\t\t\t\t\t<div className=\"form-table-wrap\">\r\n\t\t\t\t\t\t   <ReportFormTable\r\n\t\t\t\t\t\t   \t showTotal={this.props.siteAddDataDay.showTotal}\r\n\t\t\t\t\t\t     totalData={this.props.siteAddDataDay.totalData}\r\n                             totalTitle={this.props.siteAddDataDay.totalTitle}\r\n\t\t\t\t\t\t     dataList={this.props.siteAddDataDay.tableList}\r\n\t\t\t\t\t\t\t titleList={this.props.siteAddDataDay.tableTitle}\r\n\t\t\t\t\t\t\t colspan={14}\r\n\t\t\t\t\t\t\t status={this.props.siteAddDataDay.tbodyList}\r\n\t\t\t\t\t\t   />\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Pagination\r\n\t                        curPage={this.props.siteAddDataDay.curPage}\r\n\t                        totalNumber={this.props.siteAddDataDay.totalSize}\r\n\t                        pageLimt={this.props.siteAddDataDay.pageLimit}\r\n\t                        pageClick={this.pageNavClick.bind(this)}\r\n\t                    />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*content end*/}\r\n\t\t\t\t\t\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return state;\r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n    return { \r\n    \t_siteAddDataDayHandle:(options)=>{\r\n            dispatch(siteAddDataDayHandle(options));\r\n        },\r\n        _siteAddDataDayLoadData:(options)=>{\r\n       \t\tdispatch(siteAddDataDayLoadData(options))\r\n        },\r\n        _queryProvince:(options)=>{\r\n        \tdispatch(queryProvince(options))\r\n        },\r\n        _getBankTypeCodes:(options)=>{\r\n        \tdispatch(getBankTypeCodes(options))\r\n        },\r\n        _dialogHandle:(options)=>{\r\n        \tdispatch(dialogHandle(options))\r\n        },\r\n        _siteAddDataDayExport:(options)=>{\r\n        \tdispatch(siteAddDataDayExport(options))\r\n        },\r\n        \r\n    }\r\n}\r\nconst siteAddDataDay = connect(\r\n\tmapStateToProps,\r\n    mapDispatchToProps\r\n)(siteAddDataDayMain);\r\n\r\nexport default  siteAddDataDay;\r\n"]}