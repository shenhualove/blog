{"version":3,"sources":["/src/js/containers/admin/article/list.js"],"names":[],"mappings":"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","file":"/src/js/containers/admin/article/list.js","sourcesContent":["/**\n * Created by apple on 17/5/16.\n */\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport CenterTopNav from '../../../components/admin/common/centerTopNav';\nimport Pagination from '../../../components/admin/common/pagination';\nimport {dialogHandle} from '../../../actions/admin/dialog';\nimport SelectBox from '../../../components/admin/common/selectBox';\nimport Table from '../../../components/admin/common/table';\nimport * as actions from '../../../actions/admin/article/list';\n\nclass List extends React.Component{\n    //输入标题事件\n    inputTitle(e){\n        this.props._handle({\n            title:e.target.value\n        })\n    }\n\n    //栏目选择事件\n    selectClick(val,name){\n        this.props._handle({\n            columnId:val\n        })\n    }\n\n    //分页点击事件\n    pageNavClick(curPage,pageSize,options){\n        this.getData(curPage,pageSize,options?options:this.props.articleList.temp_options);\n    }\n\n    //栏目数据加工\n    showColumn(){\n        let arr=[{value:\"\",name:\"全部\"}];\n        let temp_arr=[];\n        this.props.articleList.columnList.map((val,key)=>{\n            temp_arr.push({value:val.id,name:val.title})\n        });\n        return arr.concat(temp_arr);\n    }\n\n    //请求数据\n    getData(curPage,pageSize,options){\n        this.props._getArticleList({\n            curPage:curPage,\n            pageSize:pageSize,\n            title:options.title,\n            columnId:options.columnId\n        })\n    }\n\n    //重置数据\n    resetData(bool){\n        if(bool===true){\n            let options={\n                title:\"\",\n                columnId:''\n            }\n            //初次进入页面，所有参数初始化\n            this.props._handle({\n                title:\"\",\n                columnId:'',\n                temp_options:options\n            });\n            //进入页面发起默认请求加载数据\n            this.pageNavClick(this.props.articleList.curPage,this.props.articleList.pageSize,options);\n        }else{\n            //页面未离开，用户正常重置查询条件\n            this.props._handle({\n                title:\"\",\n                columnId:''\n            });\n        }\n    }\n\n    //查询数据\n    submitClick(){\n        if(this.props.articleList.status=='loading'){\n            this.props._dialogHandle({\n                type: \"tips\",\n                time: 2000,\n                content: \"正在查询中，请耐心等待！\",\n                tipsType: \"warning\",\n                show: true\n            })\n        }else{\n            let options={\n                title:this.props.articleList.title,\n                columnId:this.props.articleList.columnId\n            }\n            this.props._handle({\n                temp_options:options\n            });\n            this.getData(1,this.props.articleList.pageSize,options);\n        }\n    }\n\n    //修改文章\n    changeBtn(id){\n\n    }\n\n    //删除文章\n    deleteBtn(id){\n        this.props._dialogHandle({\n            show:true,\n            type:\"tips\",\n            tipsType:\"confirm\",\n            content:\"确定要删除这篇文章？\",\n            success:function(){\n                this.props._deleteArticle(id,this.submitClick.bind(this))\n            }.bind(this)\n        })\n    }\n\n    componentDidMount(){\n        //绑定修改按钮事件\n        this.props.articleList.titleList[6].htmlType[0].callBack=this.changeBtn.bind(this);\n        //绑定删除按钮事件\n        this.props.articleList.titleList[6].htmlType[1].callBack=this.deleteBtn.bind(this);\n        this.resetData(true);\n        this.props._getColumnAll();\n    }\n\n    render(){\n        return(\n            <div className=\"height100p\">\n                <CenterTopNav title=\"文章列表\" parentList={[{name:\"文章管理\"}]} />\n                <div className=\"height100pY plr26\">\n                    {/*form content begin*/}\n                    <div className=\"pub-form-top clearfix\">\n                        <ul>\n                            <li>\n                                <span>文章标题:</span>\n                                <input type=\"text\" onChange={this.inputTitle.bind(this)} placeholder=\"请输入文章标题\" value={this.props.articleList.title} />\n                            </li>\n                            <li>\n                                <span>所属栏目:</span>\n                                <SelectBox\n                                    callBack={this.selectClick.bind(this)}\n                                    value={this.props.articleList.columnId}\n                                    list={this.showColumn()}\n                                />\n                            </li>\n                        </ul>\n                        <div className=\"pub-form-btns clearfix\">\n                            <div className=\"left\">\n                                <button onClick={this.submitClick.bind(this)}>查询</button>\n                                <button onClick={this.resetData.bind(this)}>重置</button>\n                            </div>\n                        </div>\n\n                    </div>\n                    {/*form content end*/}\n                    {/*content begin*/}\n                    <div className=\"form-content-wrap\">\n                        <div className=\"form-table-wrap\">\n                            <Table\n                                colspan={7}\n                                status={this.props.articleList.status}\n                                dataList={this.props.articleList.listData}\n                                titleList={this.props.articleList.titleList}\n                            />\n                        </div>\n                        <Pagination\n                            curPage={this.props.articleList.curPage}\n                            totalNumber={this.props.articleList.totalSize}\n                            pageLimt={this.props.articleList.pageSize}\n                            pageClick={this.pageNavClick.bind(this)}\n                        />\n                    </div>\n                    {/*content end*/}\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state){\n    return state;\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        _handle:(options)=>{\n            dispatch(actions.handle(options))\n        },\n        _getColumnAll:(options)=>{\n            dispatch(actions.getColumnAll(options))\n        },\n        _getArticleList:(options)=>{\n            dispatch(actions.getArticleList(options))\n        },\n        _dialogHandle:(options)=>{\n            dispatch(dialogHandle(options));\n        },\n        _deleteArticle:(id,callBack)=>{\n            dispatch(actions.deleteArticle(id,callBack));\n        }\n    }\n}\n\nconst articleList = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(List);\n\nexport default articleList;"]}