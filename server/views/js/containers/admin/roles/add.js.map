{"version":3,"sources":["/src/js/containers/admin/roles/add.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;qBAAkB,OAAO;;;;0BACH,aAAa;;2BACL,cAAc;;4CACnB,sCAAsC;;;;oCACzC,8BAA8B;;;;+BAC8C,yBAAyB;;6BAChG,sBAAsB;;IAE3C,WAAW;WAAX,WAAW;;UAAX,WAAW;wBAAX,WAAW;;6BAAX,WAAW;;;cAAX,WAAW;;SAEC,6BAAE;AAClB,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,cAAU,EAAC,IAAI;IACf,CAAC,CAAC;AACH,OAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,IAAE,KAAK,EAAC;;AAC1C,QAAI,CAAC,YAAY,EAAE,CAAC;IACpB,MAAI;AACJ,QAAI,CAAC,eAAe,EAAE,CAAC;AACvB,QAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACjB;GACD;;;;;SAEc,2BAAE;;;AAChB,OAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC;AACtB,YAAQ,EAAC,oBAAI;AAAC,WAAK,SAAS,EAAE;KAAC;IACpC,CAAC,CAAC;GAEP;;;SAEU,qBAAC,QAAQ,EAAC,QAAQ,EAAC;AAC7B,OAAG,CAAC,QAAQ,EAAC;AACZ,WAAO,EAAE,CAAC;IACV;AACD,OAAI,WAAW,GAAC,EAAE,CAAC;AACnB,OAAG,QAAQ,CAAC,MAAM,IAAE,CAAC,EAAC;AACrB,eAAW,GACV;;;KACC,yCAAI,OAAO,EAAC,GAAG,GAAM;KAGtB,CAAC;IACF,MAAI;AACJ,YAAQ,CAAC,GAAG,CAAC,UAAC,IAAI,EAAC,CAAC,EAAG;AACtB,SAAI,IAAI,GAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;AACvD,gBAAW,CAAC,IAAI,CACf;;QAAI,GAAG,EAAE,CAAE;MACV;;;OAAK,IAAI;OAAM;MACf;;;OAAK,IAAI,CAAC,WAAW;OAAM;MAC3B;;;OAAK,IAAI,CAAC,UAAU;OAAM;MAC1B;;;OAAK,IAAI,CAAC,MAAM;OAAM;MAClB,CACL,CAAC;KACF,CAAC,CAAC;IACH;AACD,UAAO,WAAW,CAAC;GACnB;;;;;SAGM,iBAAC,QAAQ,EAAC;;AAEhB,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,eAAW,EAAC,IAAI;IAChB,CAAC,CAAC;GACH;;;;;SAGQ,qBAAE,EAEV;;;;;SAIW,wBAAE;;;;AAEb,OAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC;AAC7B,YAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ;AAClF,YAAQ,EAAC,oBAAI;AAAC,YAAK,SAAS,EAAE;KAAC;AAC/B,WAAO,EAAC,iBAAC,IAAI,EAAG;AAAC,YAAK,OAAO,CAAC,IAAI,CAAC;KAAC;IACzC,CAAC,CAAC;GAEP;;;;;SAGmB,8BAAC,KAAK,EAAC;AAC1B,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAY,EAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC;IACjD,CAAC,CAAC;GACH;;;;;SAGe,0BAAC,KAAK,EAAC;AACtB,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,YAAQ,EAAC,KAAK,CAAC,MAAM,CAAC,KAAK;IAC3B,CAAC,CAAC;GACH;;;;;SAGU,uBAAE;AACZ,OAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,QAAI,EAAC,IAAI;AACT,QAAI,EAAC,MAAM;AACX,YAAQ,EAAC,SAAS;AAClB,WAAO,EAAC,mBAAU;AACjB,iCAAe,IAAI,CAAC,qBAAqB,CAAC,CAAC;AAC3C,YAAO,IAAI,CAAC;KACZ;AACD,WAAO,EAAC,UAAU;IAClB,CAAC,CAAC;GACH;;;;;SAEQ,qBAAE;;AAEV,OAAI,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;AACxC,OAAI,YAAY,GAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;;AAErE,OAAI,aAAa,GAAE,CAAC,CAAC,OAAO,CAAC;AAC5B,OAAG,EAAC,QAAQ;AACZ,OAAG,EAAC,MAAM;AACV,QAAI,EAAC,CAAC,OAAO,EAAC,kBAAkB,EAAC,QAAQ,CAAC;IAC1C,CAAC,CAAC;AACH,OAAI,iBAAiB,GAAC,CAAC,CAAC,OAAO,CAAC;AAC/B,OAAG,EAAC,YAAY;AAChB,OAAG,EAAC,OAAO;AACX,QAAI,EAAC,CAAC,OAAO,EAAC,kBAAkB,EAAC,QAAQ,CAAC;IAC1C,CAAC,CAAC;;AAEH,OAAG,CAAC,aAAa,CAAC,MAAM,EAAC;AACxB,QAAG,CAAC,aAAa,CAAC,KAAK,EAAC;AACvB,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,UAAI,EAAC,IAAI;AACT,aAAO,EAAC,UAAU;AAClB,UAAI,EAAC,MAAM;AACX,cAAQ,EAAC,SAAS;MAClB,CAAC,CAAC;AACH,YAAO,KAAK,CAAC;KACb;AACD,QAAG,CAAC,aAAa,CAAC,gBAAgB,EAAC;AAClC,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,UAAI,EAAC,IAAI;AACT,aAAO,EAAC,iBAAiB;AACzB,UAAI,EAAC,MAAM;AACX,cAAQ,EAAC,SAAS;MAClB,CAAC,CAAC;;AAEH,YAAO,KAAK,CAAC;KACb;AACD,QAAG,CAAC,aAAa,CAAC,MAAM,EAAC;AACxB,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,UAAI,EAAC,IAAI;AACT,aAAO,EAAC,iBAAiB;AACzB,UAAI,EAAC,MAAM;AACX,cAAQ,EAAC,SAAS;MAClB,CAAC,CAAC;AACH,YAAO,KAAK,CAAC;KACb;IACD;;AAED,OAAG,CAAC,iBAAiB,CAAC,MAAM,EAAC;AAC5B,QAAG,CAAC,iBAAiB,CAAC,KAAK,EAAC;AAC3B,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,UAAI,EAAC,IAAI;AACT,aAAO,EAAC,UAAU;AAClB,UAAI,EAAC,MAAM;AACX,cAAQ,EAAC,SAAS;MAClB,CAAC,CAAC;AACH,YAAO,KAAK,CAAC;KACb;AACD,QAAG,CAAC,iBAAiB,CAAC,gBAAgB,EAAC;AACtC,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,UAAI,EAAC,IAAI;AACT,aAAO,EAAC,oBAAoB;AAC5B,UAAI,EAAC,MAAM;AACX,cAAQ,EAAC,SAAS;MAClB,CAAC,CAAC;AACH,YAAO,KAAK,CAAC;KACb;AACD,QAAG,CAAC,iBAAiB,CAAC,MAAM,EAAC;AAC5B,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,UAAI,EAAC,IAAI;AACT,aAAO,EAAC,kBAAkB;AAC1B,UAAI,EAAC,MAAM;AACX,cAAQ,EAAC,SAAS;MAClB,CAAC,CAAC;AACH,YAAO,KAAK,CAAC;KACb;IACD;;AAED,OAAI,eAAe,GAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC;;AAGxE,OAAG,eAAe,CAAC,MAAM,IAAE,CAAC,EAAC;AAClC,QAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,SAAI,EAAC,IAAI;AACT,YAAO,EAAC,UAAU;AAClB,SAAI,EAAC,MAAM;AACX,aAAQ,EAAC,SAAS;KAClB,CAAC,CAAC;AACH,WAAO,KAAK,CAAC;IACP;AACD,UAAO,IAAI,CAAC;GAClB;;;;;SAGW,wBAAE;AACb,OAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,QAAI,EAAC,IAAI;AACT,WAAO,EAAC,QAAQ;AAChB,QAAI,EAAC,MAAM;AACX,YAAQ,EAAC,SAAS;AAClB,QAAI,EAAC,aAAU;AACd,SAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAU,EAAC,IAAI;MACf,CAAC,CAAC;AACH,iCAAe,IAAI,CAAC,qBAAqB,CAAC,CAAC;KAC3C,EAAC,IAAI,CAAC,IAAI,CAAC;IACZ,CAAC,CAAC;GACH;;;;;SAEc,2BAAE;AAChB,OAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,QAAI,EAAC,IAAI;AACT,WAAO,EAAC,MAAM;AACd,QAAI,EAAC,MAAM;AACX,YAAQ,EAAC,SAAS;AAClB,QAAI,EAAC,aAAU;AACd,SAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAU,EAAC,IAAI;MACf,CAAC,CAAC;AACH,iCAAe,IAAI,CAAC,qBAAqB,CAAC,CAAC;KAC3C,EAAC,IAAI,CAAC,IAAI,CAAC;IACZ,CAAC,CAAC;GACH;;;;;SAGW,wBAAE;AACb,OAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAC;AACpB,WAAO,KAAK,CAAC;IACb;;AAID,OAAI,YAAY,GAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AACnE,OAAI,eAAe,GAAC,YAAY,CAAC,OAAO,CAAC;AACzC,OAAI,mBAAmB,GAAC,YAAY,CAAC,SAAS,CAAC;;AAE/C,OAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,QAAI,EAAC,IAAI;AACT,WAAO,EAAC,YAAY;AACpB,QAAI,EAAC,MAAM;AACX,YAAQ,EAAC,SAAS;AAClB,WAAO,EAAC,aAAU;;;AACjB,SAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAU,EAAC,KAAK;MAChB,CAAC,CAAC;AACH,SAAI,CAAC,KAAK,CAAC,cAAc,CAAC;AACzB,cAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ;AAC3F,QAAE,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM;AAC5B,cAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;AACpC,cAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY;AACxC,UAAI,EAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC;AAC9B,cAAQ,EAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC;AACtC,cAAQ,EAAC,oBAAI;AAAC,cAAK,YAAY,EAAE;OAAC;MAClC,CAAC,CAAC;AACH,YAAO,IAAI,CAAC;KACZ,EAAC,IAAI,CAAC,IAAI,CAAC;AACZ,QAAI,EAAC,aAAU;AACd,SAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAU,EAAC,IAAI;MACf,CAAC,CAAC;KACH,EAAC,IAAI,CAAC,IAAI,CAAC;IACZ,CAAC,CAAC;GACH;;;;;SAGU,uBAAE;AACZ,OAAG,CAAC,IAAI,CAAC,SAAS,EAAE,EAAC;AACpB,WAAO,KAAK,CAAC;IACb;;AAED,OAAI,YAAY,GAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AACnE,OAAI,eAAe,GAAC,YAAY,CAAC,OAAO,CAAC;AACzC,OAAI,mBAAmB,GAAC,YAAY,CAAC,SAAS,CAAC;;AAE/C,OAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,QAAI,EAAC,IAAI;AACT,WAAO,EAAC,YAAY;AACpB,QAAI,EAAC,MAAM;AACX,YAAQ,EAAC,SAAS;AAClB,WAAO,EAAC,aAAU;;;AACjB,SAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAU,EAAC,KAAK;MAChB,CAAC,CAAC;AACH,SAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,cAAQ,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ;AACpC,kBAAY,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAY;AAC5C,UAAI,EAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC;AAC9B,cAAQ,EAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC;AACtC,cAAQ,EAAC,oBAAI;AAAC,cAAK,eAAe,EAAE;OAAC;MACrC,CAAC,CAAC;AACH,YAAO,IAAI,CAAC;KACZ,EAAC,IAAI,CAAC,IAAI,CAAC;AACZ,QAAI,EAAC,aAAU;AACd,SAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,gBAAU,EAAC,IAAI;MACf,CAAC,CAAC;KACH,EAAC,IAAI,CAAC,IAAI,CAAC;IACZ,CAAC,CAAC;GACH;;;;;SAIS,sBAAE;;AAEX,OAAG,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,EAAC;AACjC,QAAI,CAAC,KAAK,CAAC,aAAa,CAAC;AACxB,SAAI,EAAC,IAAI;AACT,SAAI,EAAC,SAAS;AACd,YAAO,EAAC,KAAK;KACb,CAAC;AACF,WAAO,KAAK,CAAC;IACb;;AAED,OAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,IAAE,KAAK,EAAC;AAC1C,QAAI,CAAC,YAAY,EAAE,CAAC;IACpB,MAAI;AACJ,QAAI,CAAC,WAAW,EAAE,CAAC;IACnB;GACD;;;;;SAGO,kBAAC,EAAE,EAAC,IAAI,EAAC,IAAI,EAAC;AACrB,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,YAAQ,EAAC,IAAI,CAAC,YAAY,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC;IACxC,CAAC,CAAC;GACH;;;;;SAGW,sBAAC,EAAE,EAAC,IAAI,EAAC,CAAC,EAAC;AACtB,OAAI,IAAI,GAAC,CAAC,CAAC;AACX,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAE,EAAE,EAAC;AACjB,SAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAC,CAAC,IAAI,CAAC;AACnB,WAAM;KACN,MAAI;AACJ,SAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;AAC5B,UAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,IAAI,CAAC,YAAY,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;MAC7D;KACD;IACD;AACD,UAAO,IAAI,CAAC;GACZ;;;;;SAGQ,mBAAC,EAAE,EAAC,IAAI,EAAC,IAAI,EAAC;AACtB,OAAI,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;AAC5C,UAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,YAAQ,EAAC,IAAI,CAAC,aAAa,CAAC,EAAE,EAAC,QAAQ,EAAC,QAAQ,CAAC;IACjD,CAAC,CAAC;GACH;;;;;SAGU,qBAAC,EAAE,EAAC,IAAI,EAAC,CAAC,EAAC;AACrB,OAAI,IAAI,GAAC,CAAC,CAAC;AACX,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAE,EAAE,EAAC;AACjB,SAAI,CAAC,CAAC,CAAC,CAAC,OAAO,GAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;AACjC,SAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAC,KAAK,CAAC;;AAE1B,SAAG,IAAI,EAAC;AACP,UAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;MAClE;AACD,WAAM;KACN,MAAI;AACJ,SAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;AAC5B,UAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;MAC5D;KACD;IACD;AACD,UAAO,IAAI,CAAC;GACZ;;;;;SAGQ,mBAAC,IAAI,EAAC,CAAC,EAAC;AAChB,OAAI,IAAI,GAAC,CAAC,CAAC;AACX,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC5B,QAAI,CAAC,CAAC,CAAC,CAAC,OAAO,GAAC,IAAI,CAAC;AAClB,QAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAC,KAAK,CAAC;AAC7B,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;AAC5B,SAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;KACvD;IACF;AACD,UAAO,IAAI,CAAC;GACZ;;;;;SAGY,uBAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC;;AAErB,OAAI,IAAI,GAAC,CAAC,CAAC;AACL,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACnC,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAE,EAAE,EAAC;AACjB,SAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAE,GAAG,EAAC;AACJ,QAAE,GAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAC,EAAE,CAAC,CAAC;AAC7C,QAAE,GAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAC,EAAE,EAAC,EAAE,CAAC,CAAC;MACzC;AACD,WAAM;KACN,MAAI;AACJ,SAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;AAC5B,QAAE,GAAC,IAAI,CAAC,aAAa,CAAC,EAAE,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAC,EAAE,CAAC;MAC7C;KACD;IACD;AACD,UAAO,EAAE,CAAC;GACV;;;SAEI,eAAC,GAAG,EAAC,CAAC,EAAC;AACX,OAAI,IAAI,GAAC,CAAC,CAAC;AACX,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AAC7B,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAE,GAAG,EAAC;AAClB,SAAI,SAAS;SAAC,SAAS,GAAC,EAAE;SAAC,QAAQ,GAAC,KAAK,CAAC;AAC1C,UAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACzC,UAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,IAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtD,UAAG,CAAC,IAAE,CAAC,EAAC;AACP,gBAAS,GAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;OACtC,MAAI;AACJ,WAAG,SAAS,IAAE,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,EAAC;AACzC,gBAAQ,GAAC,IAAI,CAAC;AACd,cAAM;QACN,CAAC;OACF;MACD;;AAED,SAAG,SAAS,CAAC,MAAM,GAAC,CAAC,IAAE,QAAQ,IAAE,SAAS,IAAE,KAAK,EAAC;AACjD,UAAI,CAAC,CAAC,CAAC,CAAC,OAAO,GAAC,IAAI,CAAC;AACrB,UAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAC,IAAI,CAAC;MACzB,MAAI;AACJ,UAAI,CAAC,CAAC,CAAC,CAAC,OAAO,GAAC,SAAS,CAAC;AAC1B,UAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAC,KAAK,CAAC;MAC1B;;AAED,WAAM;KACN,MAAI;AACJ,SAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;AAC5B,UAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;MAClD;KACD;IACD;AACD,UAAO,IAAI,CAAC;GACZ;;;;;SAIc,yBAAC,IAAI,EAAC;AACpB,OAAI,OAAO,GAAC,EAAE;OAAC,SAAS,GAAC,EAAE;OAAC,MAAM,GAAC,EAAE,CAAC;AACtC,QAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACpB,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,EAAC;AAC3B,cAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC7B,YAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;KACzB;AACD,QAAG,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,EAAC;AAC5B,SAAI,MAAM,GAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AACtC,cAAS,GAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;AACzD,YAAO,GAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;KACvC;IACD;AACD,SAAM,CAAC,OAAO,GAAC,OAAO,CAAC;AACvB,SAAM,CAAC,SAAS,GAAC,SAAS,CAAC;AAC3B,UAAO,MAAM,CAAC;GACd;;;SAGmB,gCAAE;;AAErB,OAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC;AAC9B,YAAQ,EAAC,EAAE;IACX,CAAC;GACF;;;SAGQ,kBAAE;AACJ,UACI;;MAAK,SAAS,EAAC,YAAY;IAC7B,8EAAc,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,aAAa,IAAE,KAAK,GAAC,MAAM,GAAC,MAAO,EAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAW,EAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAE,GAAG;IAClK;;OAAK,SAAS,EAAC,uCAAuC;KACrD;;QAAK,SAAS,EAAC,cAAc;MACrC,sEAAW,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAS,EAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAE,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAE,GAAG;MAChH;KACN;;QAAK,SAAS,EAAC,eAAe;MAC7B;;;OACC;;UAAM,SAAS,EAAC,OAAO;;QAAa;OACpC,4CAAO,IAAI,EAAC,MAAM,EAAC,SAAS,EAAC,MAAM,EAAC,SAAS,EAAC,IAAI,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAS,EAAC,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAE,EAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAE,GAAG;OAC5K;MACJ;;;OACC;;UAAM,SAAS,EAAC,UAAU;;QAAa;OACvC,+CAAW,SAAS,EAAC,MAAM,EAAC,SAAS,EAAC,KAAK,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,YAAa,EAAC,MAAM,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAE,EAAC,QAAQ,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAE,GACtK;OACR;MACJ;;SAAK,SAAS,EAAC,eAAe;OAC7B;;UAAM,SAAS,EAAC,UAAU;;QAAW;OACrC;;UAAK,SAAS,EAAC,OAAO;QACrB;;;SACC;;;UACC;;;WACC;;cAAI,KAAK,EAAC,KAAK;;YAAQ;WACvB;;cAAI,KAAK,EAAC,KAAK;;YAAS;WACxB;;cAAI,KAAK,EAAC,KAAK;;YAAU;WACzB;;cAAI,KAAK,EAAC,KAAK;;YAAU;WACrB;UACE;SACR;;;UACE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;UACzE;SACD;QACH;OACD;MACN;;SAAG,SAAS,EAAC,eAAe;OAC3B;;UAAM,SAAS,EAAC,KAAK,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAE;;QAAU;OACrE;;UAAM,SAAS,EAAC,KAAK,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAE;;QAAU;OACjE;MACC;KAGD;IACD,CACT;GACJ;;;QArgBC,WAAW;GAAS,mBAAM,SAAS;;AAygBzC,SAAS,eAAe,CAAC,KAAK,EAAC;AAC3B,QAAO,KAAK,CAAC;CAChB;AACD,SAAS,kBAAkB,CAAC,QAAQ,EAAC;AACjC,QAAO;AACN,qBAAmB,EAAC,6BAAC,OAAO,EAAG;AACxB,WAAQ,CAAC,yCAAmB,OAAO,CAAC,CAAC,CAAC;GACzC;;AAED,sBAAoB,EAAC,8BAAC,OAAO,EAAG;AAC5B,WAAQ,CAAC,0CAAoB,OAAO,CAAC,CAAC,CAAC;GAC1C;AACD,oBAAkB,EAAC,4BAAC,OAAO,EAAG;AAC1B,WAAQ,CAAC,wCAAkB,OAAO,CAAC,CAAC,CAAC;GACxC;AACD,gBAAc,EAAC,wBAAC,OAAO,EAAG;AACtB,WAAQ,CAAC,oCAAc,OAAO,CAAC,CAAC,CAAC;GACpC;AACD,eAAa,EAAC,uBAAC,OAAO,EAAG;AACrB,WAAQ,CAAC,mCAAa,OAAO,CAAC,CAAC,CAAC;GACnC;AACP,eAAa,EAAE,uBAAC,OAAO,EAAG;AACzB,WAAQ,CAAC,iCAAa,OAAO,CAAC,CAAC,CAAC;GAChC;EACE;CACJ;;AAED,IAAM,YAAY,GAAG,yBACjB,eAAe,EACf,kBAAkB,CACrB,CAAC,WAAW,CAAC,CAAC;;qBAEC,YAAY","file":"/src/js/containers/admin/roles/add.js","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {browserHistory } from 'react-router';\r\nimport CenterTopNav from '../../components/public/centerTopNav';\r\nimport CreatTree from '../../components/public/tree';\r\nimport {rolesAddRoleHandle,rolesGetAddTreeData,rolesEditLoadData,rolesEditRole,rolesAddRole} from '../../actions/roles/add';\r\nimport {dialogHandle} from '../../actions/dialog';\r\n\r\nclass AddRoleMain extends React.Component{\r\n\r\n\tcomponentDidMount(){\t\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\tsubmitFlag:true\r\n\t\t});\r\n\t\tif(this.props.addRole.operationType!=\"add\"){//编辑\r\n\t\t\tthis.editLoadData();\t\t\t\r\n\t\t}else{\r\n\t\t\tthis.loadAddTreeData();\r\n\t\t\tthis.loadLog([]);\r\n\t\t}\t\r\n\t}\r\n\t//加载添加角色的树形数据\r\n\tloadAddTreeData(){\r\n\t\tthis.props._rolesGetAddTreeData({\r\n            callback:()=>{this.creatTree()}\r\n     \t});\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tshowLogList(listData,showFlag){\r\n\t\tif(!showFlag){\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t\tlet logListShow=[];\t\t\r\n\t\tif(listData.length==0){\r\n\t\t\tlogListShow=(\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td colSpan=\"4\"></td>\r\n\t\t\t\t\t\r\n\t\t\t\t</tr>\r\n\t\t\t);\r\n\t\t}else{\r\n\t\t\tlistData.map((item,i)=>{\r\n\t\t\t\tlet Time=moment(item.operateTime).format(\"YYYY-MM-DD\");\r\n\t\t\t\tlogListShow.push(\r\n\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t<td>{Time}</td>\r\n\t\t\t\t\t\t<td>{item.accountName}</td>\r\n\t\t\t\t\t\t<td>{item.objectName}</td>\r\n\t\t\t\t\t\t<td>{item.rawLog}</td>\r\n\t\t\t\t\t</tr>\t\t\t\t\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn logListShow;\r\n\t}\r\n\t\r\n\t//加载日志数据\r\n\tloadLog(listData){\r\n\t\t\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\tlogListShow:true\r\n\t\t});\r\n\t}\r\n\t\r\n\t//创建权限树\r\n\tcreatTree(){\r\n\r\n\t}\r\n\r\n\t\r\n\t//编辑时加载数据\r\n\teditLoadData(){\r\n\t\t//this.props.params.roleCode //浏览器参数\r\n\t\tthis.props._rolesEditLoadData({\r\n\t\t\troleCode:this.props.addRole.roleCode?this.props.addRole.roleCode:this.props.params.roleCode,\r\n            callback:()=>{this.creatTree()},\r\n            loadLog:(data)=>{this.loadLog(data)}\r\n     \t});\r\n\t\t\r\n\t}\r\n\t\r\n\t//角色描述改变事件\r\n\troleDescribeOnchange(event){\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\troleDescribe:event.target.value.substring(0, 200)\r\n\t\t});\r\n\t}\r\n\t\r\n\t//角色名称改变事件\r\n\troleNameOnchange(event){\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\troleName:event.target.value\r\n\t\t});\r\n\t}\r\n\t\r\n\t//点击取消\r\n\tsignOutBack(){\r\n\t\tthis.props._dialogHandle({\r\n\t\t\tshow:true,\r\n\t\t\ttype:\"tips\",\r\n\t\t\ttipsType:\"confirm\",\r\n\t\t\tsuccess:function(){\r\n\t\t\t\tbrowserHistory.push('/System/RoleManager');\r\n\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\tcontent:\"是否放弃所填内容\"\r\n\t\t});\r\n\t}\r\n\t//\r\n\tcheckForm(){\r\n\r\n\t\tlet roleName=this.props.addRole.roleName\r\n\t\tlet roleDescribe=this.props.addRole.roleDescribe.replace(/\\s+/g, \"\");\r\n\t\t\r\n\t\tlet roleNameCheck= $.XlCheck({\r\n\t\t\tval:roleName,\r\n\t\t\tlen:\"1,20\",\r\n\t\t\trule:[\"Empty\",\"specialCharacter\",\"Length\"] \r\n\t\t});\r\n\t\tlet roleDescribeCheck=$.XlCheck({\r\n\t\t\tval:roleDescribe,\r\n\t\t\tlen:\"1,200\",\r\n\t\t\trule:[\"Empty\",\"specialCharacter\",\"Length\"] \r\n\t\t});\r\n\t\t//校验角色名称\r\n\t\tif(!roleNameCheck.result){\r\n\t\t\tif(!roleNameCheck.Empty){\r\n\t\t\t\tthis.props._dialogHandle({\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tcontent:'角色名称不能为空',\r\n\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!roleNameCheck.specialCharacter){\r\n\t\t\t\tthis.props._dialogHandle({\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tcontent:'角色名称不可输入特殊字符或空格',\r\n\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!roleNameCheck.Length){\r\n\t\t\t\tthis.props._dialogHandle({\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tcontent:'角色名称只能输入1-20个汉字',\r\n\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t\t//校验角色描述\r\n\t\tif(!roleDescribeCheck.result){\r\n\t\t\tif(!roleDescribeCheck.Empty){\r\n\t\t\t\tthis.props._dialogHandle({\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tcontent:'角色描述不能为空',\r\n\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!roleDescribeCheck.specialCharacter){\r\n\t\t\t\tthis.props._dialogHandle({\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tcontent:'角色描述不可输入特殊字符，请重新输入',\r\n\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(!roleDescribeCheck.Length){\r\n\t\t\t\tthis.props._dialogHandle({\r\n\t\t\t\t\tshow:true,\r\n\t\t\t\t\tcontent:'角色描述只能输入1-200个汉字',\r\n\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\r\n\t\tlet checkedNodeList=this.getTreeCheckVal(this.props.addRole.treeData).idArray;\r\n\r\n\r\n        if(checkedNodeList.length==0){\r\n\t\t\tthis.props._dialogHandle({\r\n\t\t\t\tshow:true,\r\n\t\t\t\tcontent:'请给角色分配权限',\r\n\t\t\t\ttype:\"tips\",\r\n\t\t\t\ttipsType:\"warning\"\r\n\t\t\t});\r\n\t\t\treturn false;\r\n        }\r\n        return true;\r\n\t}\r\n\t\r\n\t//编辑保存回调\r\n\tsaveCallBack(){\r\n\t\tthis.props._dialogHandle({\r\n\t\t\tshow:true,\r\n\t\t\tcontent:'编辑角色成功',\r\n\t\t\ttype:\"tips\",\r\n\t\t\ttipsType:\"success\",\r\n\t\t\thide:function(){\r\n\t\t\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t});\r\n\t\t\t\tbrowserHistory.push('/System/RoleManager');\r\n\t\t\t}.bind(this)\r\n\t\t});\r\n\t}\r\n\t//新增保存回调\r\n\tsaveAddCallBack(){\r\n\t\tthis.props._dialogHandle({\r\n\t\t\tshow:true,\r\n\t\t\tcontent:'添加成功',\r\n\t\t\ttype:\"tips\",\r\n\t\t\ttipsType:\"success\",\r\n\t\t\thide:function(){\r\n\t\t\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t});\r\n\t\t\t\tbrowserHistory.push('/System/RoleManager');\r\n\t\t\t}.bind(this)\r\n\t\t});\r\n\t}\r\n\t\r\n\t//编辑保存\r\n\tsaveEditForm(){\r\n\t\tif(!this.checkForm()){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\r\n\t\tlet checkedValue=this.getTreeCheckVal(this.props.addRole.treeData);\r\n\t\tlet checkedNodeList=checkedValue.idArray;\r\n\t\tlet checkedNodeNameList=checkedValue.nameArray;\r\n\r\n\t\tthis.props._dialogHandle({\r\n\t\t\tshow:true,\r\n\t\t\tcontent:'是否保存提交所填内容',\r\n\t\t\ttype:\"tips\",\r\n\t\t\ttipsType:\"confirm\",\r\n\t\t\tsuccess:function(){\r\n\t\t\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\t\t\tsubmitFlag:false,\r\n\t\t\t\t});\r\n\t\t\t\tthis.props._rolesEditRole({\r\n\t\t\t\t\troleCode:this.props.addRole.roleCode?this.props.addRole.roleCode:this.props.params.roleCode,\r\n\t\t\t\t\tid:this.props.addRole.roleId,\r\n\t\t\t\t\troleName:this.props.addRole.roleName,\r\n\t\t\t\t\troleDesc:this.props.addRole.roleDescribe,\r\n\t\t\t\t\tpers:checkedNodeList.join(\",\"),\r\n\t\t\t\t\tperNames:checkedNodeNameList.join(\",\"),\r\n\t\t\t\t\tcallback:()=>{this.saveCallBack()}\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t}.bind(this),\r\n\t\t\tfail:function(){\r\n\t\t\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t});\r\n\t\t\t}.bind(this)\r\n\t\t});\r\n\t}\r\n\t\r\n\t//添加保存\r\n\tsaveAddForm(){\t\r\n\t\tif(!this.checkForm()){\r\n\t\t\treturn false;\r\n\t\t}\t\t\r\n\r\n\t\tlet checkedValue=this.getTreeCheckVal(this.props.addRole.treeData);\r\n\t\tlet checkedNodeList=checkedValue.idArray;\r\n\t\tlet checkedNodeNameList=checkedValue.nameArray;\r\n\r\n\t\tthis.props._dialogHandle({\r\n\t\t\tshow:true,\r\n\t\t\tcontent:'是否保存提交所填内容',\r\n\t\t\ttype:\"tips\",\r\n\t\t\ttipsType:\"confirm\",\r\n\t\t\tsuccess:function(){\r\n\t\t\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\t\t\tsubmitFlag:false\r\n\t\t\t\t});\r\n\t\t\t\tthis.props._rolesAddRole({\r\n\t\t\t\t\troleName:this.props.addRole.roleName,\r\n\t\t\t\t\troleDescribe:this.props.addRole.roleDescribe,\r\n\t\t\t\t\tpers:checkedNodeList.join(\",\"),\r\n\t\t\t\t\tperNames:checkedNodeNameList.join(\",\"),\r\n\t\t\t\t\tcallback:()=>{this.saveAddCallBack()}\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t}.bind(this),\r\n\t\t\tfail:function(){\r\n\t\t\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t});\r\n\t\t\t}.bind(this)\r\n\t\t});\r\n\t}\r\n\t\r\n\t\r\n\t//保存按钮\r\n\tsaveBtnFun(){\r\n\t\t\r\n\t\tif(!this.props.addRole.submitFlag){\r\n\t\t\tthis.props._dialogHandle({\r\n\t\t\t\tshow:true,\r\n\t\t\t\ttype:\"loading\",\r\n\t\t\t\tcontent:\"提交中\"\r\n\t\t\t})\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif(this.props.addRole.operationType!=\"add\"){\r\n\t\t\tthis.saveEditForm();\r\n\t\t}else{\r\n\t\t\tthis.saveAddForm();\r\n\t\t}\r\n\t}\r\n\r\n\t//树形菜单隐藏、显示回调事件 id栏目的ID， bool 是展示或隐藏 DATA是菜单数据结构源\r\n\tshowCall(id,bool,data){\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\ttreeData:this.selectTreeId(id,bool,data)\r\n\t\t});\r\n\t}\r\n\r\n\t//递归菜单是否展开隐藏\r\n\tselectTreeId(id,bool,d){\r\n\t\tlet data=d;\r\n\t\tfor(let i=0;i<data.length;i++){\r\n\t\t\tif(data[i].id==id){\r\n\t\t\t\tdata[i].open=!bool;\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tif(data[i].children.length>0){\r\n\t\t\t\t\tdata[i].children=this.selectTreeId(id,bool,data[i].children);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\t//递归菜单 选项是否选中  id栏目的ID， bool 是有子菜单或没有子菜单 DATA是菜单数据结构源\r\n\tcheckShow(id,bool,data){\r\n\t\tlet tempData=this.checkTreeId(id,bool,data);\r\n\t\tconsole.log(tempData);\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\ttreeData:this.parentIsCheck(id,tempData,tempData)\r\n\t\t});\r\n\t}\r\n\r\n\t//递归循环取消选择\r\n\tcheckTreeId(id,bool,d){\r\n\t\tlet data=d;\r\n\t\tfor(let i=0;i<data.length;i++){\r\n\t\t\tif(data[i].id==id){\r\n\t\t\t\tdata[i].checked=!data[i].checked;\r\n\t\t\t\tdata[i].middleCheck=false;\r\n\t\t\t\t//含有子菜单，向下递归循环\r\n\t\t\t\tif(bool){\r\n\t\t\t\t\tdata[i].children=this.loopCheck(data[i].checked,data[i].children);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tif(data[i].children.length>0){\r\n\t\t\t\t\tdata[i].children=this.checkTreeId(id,bool,data[i].children);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\t//递归循环子菜单里的取消选择\r\n\tloopCheck(bool,d){\r\n\t\tlet data=d;\r\n\t\tfor(let i=0;i<data.length;i++){\r\n\t\t\t\tdata[i].checked=bool;\r\n\t\t\t    data[i].middleCheck=false;\r\n\t\t\t\tif(data[i].children.length>0){\r\n\t\t\t\t\tdata[i].children=this.loopCheck(bool,data[i].children);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\t//循环递归父元素是否需要更改状态为全选，全不选，或者半选\r\n\tparentIsCheck(id,d,d2){\r\n\r\n\t\tlet data=d;\r\n        for(let i=0;i<data.length;i++){\r\n\t\t\tif(data[i].id==id){\r\n\t\t\t\tif(data[i].pid!='0'){\r\n                    d2=this.digui(data[i].pid,d2);\r\n\t\t\t\t\td2=this.parentIsCheck(data[i].pid,d2,d2);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tif(data[i].children.length>0){\r\n\t\t\t\t\td2=this.parentIsCheck(id,data[i].children,d2)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn d2;\r\n\t}\r\n\r\n\tdigui(pid,d){\r\n\t\tlet data=d;\r\n\t\tfor(let i=0;i<data.length;i++){\r\n\t\t\tif(data[i].id==pid){\r\n\t\t\t\tlet temp_arr1,temp_arr2=[],isMiddle=false;\r\n\t\t\t\tfor(let k=0;k<data[i].children.length;k++){\r\n\t\t\t\t\tdata[i].children[k].middleCheck&&temp_arr2.push(true);\r\n\t\t\t\t\tif(k==0){\r\n\t\t\t\t\t\ttemp_arr1=data[i].children[k].checked;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(temp_arr1!=data[i].children[k].checked){\r\n\t\t\t\t\t\t\tisMiddle=true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//如果有半选状态，直接设置为选中，并且状态为半选中\r\n\t\t\t\tif(temp_arr2.length>0||isMiddle||temp_arr1==false){\r\n\t\t\t\t\tdata[i].checked=true;\r\n\t\t\t\t\tdata[i].middleCheck=true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdata[i].checked=temp_arr1;\r\n\t\t\t\t\tdata[i].middleCheck=false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tif(data[i].children.length>0){\r\n\t\t\t\t\tdata[i].children=this.digui(pid,data[i].children);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\r\n\t//获取树形菜单选中的值，名称\r\n\tgetTreeCheckVal(data){\r\n\t\tlet idArray=[],nameArray=[],valObj={};\r\n\t\tfor(let i=0;i<data.length;i++){\r\n            if(data[i].checked){\r\n\t\t\t\tnameArray.push(data[i].name);\r\n\t\t\t\tidArray.push(data[i].id);\r\n\t\t\t}\r\n\t\t\tif(data[i].children.length>0){\r\n\t\t\t\tlet oldObj=this.getTreeCheckVal(data[i].children);\r\n                nameArray=nameArray.concat(oldObj.nameArray);\r\n\t\t\t\tidArray=idArray.concat(oldObj.idArray);\r\n\t\t\t}\r\n\t\t}\r\n\t\tvalObj.idArray=idArray;\r\n\t\tvalObj.nameArray=nameArray;\r\n\t\treturn valObj;\r\n\t}\r\n\r\n\r\n\tcomponentWillUnmount(){\r\n\t\t//组件销毁后，设置treeData为[]\r\n\t\tthis.props._rolesAddRoleHandle({\r\n\t\t\ttreeData:[]\r\n\t\t})\r\n\t}\r\n\r\n\t\r\n    render(){\r\n        return(\r\n            <div className=\"height100p\">\r\n        \t\t<CenterTopNav title={this.props.addRole.operationType!=\"add\"?\"编辑角色\":\"新增角色\"} parentList={this.props.addRole.parentList} leaveCallBack={this.signOutBack.bind(this)} />\r\n\t            <div className=\"height100pY add-role-content clearfix\">\r\n\t            \t<div className=\"left-content\" >\r\n\t\t\t\t\t\t<CreatTree treeData={this.props.addRole.treeData} checkShow={this.checkShow.bind(this)} showCall={this.showCall.bind(this)} />\r\n\t            \t</div>\r\n\t            \t<div className=\"right-content\">\r\n\t            \t\t<p>\r\n\t            \t\t\t<span className=\"lable\">角色名称:</span>\r\n\t            \t\t\t<input type=\"text\" className=\"w500\" maxLength=\"20\" value={this.props.addRole.roleName} onBlur={this.roleNameOnchange.bind(this)} onChange={this.roleNameOnchange.bind(this)} />\r\n\t            \t\t</p>\r\n\t            \t\t<p>\r\n\t            \t\t\t<span className=\"lable ff\">角色描述:</span>\r\n\t            \t\t\t<textarea  className=\"w500\" maxLength=\"200\" value={this.props.addRole.roleDescribe} onBlur={this.roleDescribeOnchange.bind(this)} onChange={this.roleDescribeOnchange.bind(this)} >\r\n\t            \t\t\t</textarea>\r\n\t            \t\t</p>\r\n\t            \t\t<div className=\"table-content\">\r\n\t            \t\t\t<span className=\"lable ff\">日志:</span>\r\n\t            \t\t\t<div className=\"table\">\r\n\t\t            \t\t\t<table>\r\n\t\t            \t\t\t\t<thead>\r\n\t\t            \t\t\t\t\t<tr>\r\n\t\t            \t\t\t\t\t\t<th width=\"20%\">时间</th>\r\n\t\t            \t\t\t\t\t\t<th width=\"25%\">操作人</th>\r\n\t\t            \t\t\t\t\t\t<th width=\"25%\">操作功能</th>\r\n\t\t            \t\t\t\t\t\t<th width=\"30%\">操作内容</th>\r\n\t\t            \t\t\t\t\t</tr>\r\n\t\t            \t\t\t\t</thead>\r\n\t\t            \t\t\t\t<tbody>\r\n\t\t            \t\t\t\t\t{this.showLogList(this.props.addRole.logListData,this.props.addRole.logListShow)}\r\n\t\t            \t\t\t\t</tbody>\r\n\t\t            \t\t\t</table>\r\n\t            \t\t\t</div>\r\n\t            \t\t</div>\r\n\t            \t\t<p className=\"mr30 clearfix\">\t            \t\t\t\r\n\t            \t\t\t<span className='btn' onClick={this.signOutBack.bind(this)}>取消</span>\r\n\t            \t\t\t<span className='btn' onClick={this.saveBtnFun.bind(this)}>保存</span>\r\n\t            \t\t</p>\r\n\t            \t</div>\r\n\t            \t\r\n\t            \t\r\n\t            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state){\r\n    return state;\r\n}\r\nfunction mapDispatchToProps(dispatch){\r\n    return { \r\n    \t_rolesAddRoleHandle:(options)=>{\r\n            dispatch(rolesAddRoleHandle(options));\r\n        }, \r\n        \r\n        _rolesGetAddTreeData:(options)=>{\r\n            dispatch(rolesGetAddTreeData(options));\r\n        },\r\n        _rolesEditLoadData:(options)=>{\r\n            dispatch(rolesEditLoadData(options));\r\n        },\r\n        _rolesEditRole:(options)=>{\r\n            dispatch(rolesEditRole(options));\r\n        },\r\n        _rolesAddRole:(options)=>{\r\n            dispatch(rolesAddRole(options));\r\n        },\r\n\t\t_dialogHandle :(options)=>{\r\n\t\t\tdispatch(dialogHandle(options));\r\n\t\t}\r\n    }\r\n}\r\n\r\nconst AddRoleIndex = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(AddRoleMain);\r\n\r\nexport default  AddRoleIndex;"]}