{"version":3,"sources":["/src/js/containers/admin/public/top.js"],"names":[],"mappings":"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","file":"/src/js/containers/admin/public/top.js","sourcesContent":["/**\n * Created by zhangminglei on 2017/3/8.\n *\n * 顶部组件\n */\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport {browserHistory } from 'react-router';\nimport {topHandle,logOut,setPassWord} from '../../../actions/admin/top';\nimport {dialogHandle} from '../../../actions/admin/dialog';\nimport Menu from '../meun/index';\n\nclass Top extends React.Component{\n\n    //修改密码\n    editPassword(){\n\n        let html =[];\n        html.push(<p className='ptb15 text-c' key=\"oldPsd\"><input id='oldPsd'  type='password' maxLength='32' placeholder='请输入旧密码' /></p>);\n        html.push(<p className='ptb15 text-c' key=\"newPsd\"><input id='newPsd' type='password' maxLength='32' placeholder='请输入新密码' /></p>);\n        html.push(<p className='ptb15 text-c' key=\"confirmPsd\"><input id='confirmPsd' type='password' maxLength='32' placeholder='请再次输入新的密码' /></p>);\n        html.push(<p key=\"editPassword-error\" className='editPassword-error'></p>);\n        this.props._dialogHandle({\n            show:true,\n            type:\"confirm\",\n            width:'400px',\n            height:'400px',\n            failBtn:false,\n            content:html,\n            title:'修改密码',\n            success:function(){\n                var oldPsd = $(\"#oldPsd\").val();\n                var newPsd = $(\"#newPsd\").val();\n                var confirmPsd = $(\"#confirmPsd\").val();\n\n                let oldPasswCheck=$.XlCheck({\n                    val:oldPsd,\n                    len:\"6,32\",\n                    rule:[\"Empty\",\"NumberAndEng\",\"Length\"]\n                });\n                //校验密码格式\n                if(!oldPasswCheck.result){\n                    if(!oldPasswCheck.Empty){\n                        $(\".editPassword-error\").html(\"<span></span>原密码不能为空\");\n                        return false;\n                    }\n                    if(!oldPasswCheck.NumberAndEng){\n                        $(\".editPassword-error\").html(\"<span></span>请输入6-32位数字、字母格式的密码\");\n                        return false;\n                    }\n                    if(!oldPasswCheck.Length){\n                        $(\".editPassword-error\").html(\"<span></span>请输入6-32位数字、字母格式的密码\");\n                        return false;\n                    }\n                }\n\n                let newPasswCheck=$.XlCheck({\n                    val:newPsd,\n                    len:\"6,32\",\n                    rule:[\"Empty\",\"NumberAndEng\",\"Length\"]\n                });\n                //校验密码格式\n                if(!newPasswCheck.result){\n                    if(!newPasswCheck.Empty){\n                        $(\".editPassword-error\").html(\"<span></span>新密码不能为空\");\n                        return false;\n                    }\n                    if(!newPasswCheck.NumberAndEng){\n                        $(\".editPassword-error\").html(\"<span></span>请输入6-32位数字、字母格式的密码\");\n                        return false;\n                    }\n                    if(!newPasswCheck.Length){\n                        $(\".editPassword-error\").html(\"<span></span>请输入6-32位数字、字母格式的密码\");\n                        return false;\n                    }\n                }\n\n                let confirmPasswCheck=$.XlCheck({\n                    val:confirmPsd,\n                    len:\"6,32\",\n                    rule:[\"Empty\",\"NumberAndEng\",\"Length\"]\n                });\n                //校验密码格式\n                if(!confirmPasswCheck.result){\n                    if(!confirmPasswCheck.Empty){\n                        $(\".editPassword-error\").html(\"<span></span>请再次输入新的密码不能为空\");\n                        return false;\n                    }\n                    if(!confirmPasswCheck.NumberAndEng){\n                        $(\".editPassword-error\").html(\"<span></span>请输入6-32位数字、字母格式的密码\");\n                        return false;\n                    }\n                    if(!confirmPasswCheck.Length){\n                        $(\".editPassword-error\").html(\"<span></span>请输入6-32位数字、字母格式的密码\");\n                        return false;\n                    }\n                }\n\n                if(newPsd!=confirmPsd){\n                    $(\".editPassword-error\").html(\"<span></span>两次密码输入不一致\");\n                    return false;\n                }\n\n                this.props._setPassWord({\n                    callBack:()=>{browserHistory.push('/')},\n                    errMesg:()=>{$(\".editPassword-error\").html(\"<span></span>原始密码不正确,请重新输入\");}\n                });\n            }.bind(this)\n        })\n\n    }\n\n    //退出登录\n    signOut(){\n        this.props._logOut();\n    }\n\n    render(){\n        return(\n\n            <div className=\"top-content clearfix\">\n                <span className=\"left-icon\"></span>\n                <Menu list={this.props.login.Jurisdiction} />\n                <div className=\"right clearfix\">\n                    <span className=\"user-icon\"></span>\n                    <span className=\"user-name\">{this.props.login.account.trueName}</span>\n                    <span className=\"right-down\"></span>\n                    {/*用户下拉框*/}\n                    <div className=\"user-select\">\n                        <ul>\n                            <li onClick={this.editPassword.bind(this)}>修改密码</li>\n                            <li onClick={this.signOut.bind(this)}>退出系统</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nfunction mapStateToProps(state){\n    return state;\n}\n\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        _topHandle:(options)=>{\n            dispatch(topHandle(options));\n        },\n        _logOut   :(options)=>{\n            dispatch(logOut(options));\n        },\n        _setPassWord:(options)=>{\n            dispatch(setPassWord(options))\n        },\n        _dialogHandle :(options)=>{\n            dispatch(dialogHandle(options));\n        }\n    }\n}\n\nconst TopMenu = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Top);\n\nexport default  TopMenu;"]}