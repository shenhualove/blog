{"version":3,"sources":["/src/js/containers/user/list.js"],"names":[],"mappings":"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","file":"/src/js/containers/user/list.js","sourcesContent":["/**\n * Created by shenhua\n *\n * 列表页\n */\nimport React from 'react';\nimport {Link} from 'react-router';\nimport {connect} from 'react-redux';\nimport {indexHandle} from '../../actions/user';\nimport * as actions from '../../actions/user/list';\n\nclass ListMain extends React.Component {\n\n    getData(){\n        //获取数据\n        if(this.props.list.listData.length>0){\n            return this.props.list.listData.map((val,key)=>{\n                return(\n                    <article key={key}>\n                        <div className=\"focus\">\n                            <Link to={\"/page/\"+val.id} state={val.title} className=\"thumbnail\"><img src={\"/images/upload/admin/\"+val.imgUrl} alt={val.title} data-bd-imgshare-binded=\"1\" /></Link>\n                        </div>\n                        <header>\n                            <h3><Link to={\"/page/\"+val.id} state={val.title}>{val.title}</Link></h3>\n                        </header>\n                        <p className=\"note\">\n                            {val.caption}\n                        </p>\n                        <p>\n                            <span className=\"muted\"><i className=\"fa fa-user\"></i> {val.author}</span>\n                            <span className=\"muted\"><i className=\"fa fa-clock-o\"></i> {val.time}</span>\n                            <span className=\"muted\"><i className=\"fa fa-eye\"></i> {val.totalViews}浏览</span>\n                        </p>\n                    </article>\n                )\n            });\n        }else{\n            return <article>暂无数据</article>\n        }\n    }\n\n    componentDidMount(){\n        this.props._indexHandle(this.props.params.id);\n        this.props._getList(this.props.params.id,this.props.list.page,this.props.list.pageSize);\n    }//组件加载后\n\n    componentDidUpdate (prevProps) {\n        let oldId = prevProps.params.id;\n        let newId = this.props.params.id;\n        if (newId !== oldId){\n            this.props._indexHandle(newId);\n            this.props._getList(newId,this.props.list.page,this.props.list.pageSize);\n        }\n    }//组件更新\n\n    render(){\n        return (\n            <div className=\"content-left\">\n                <div className=\"new-push column-list\">\n                    <h2>{this.props.list.title}</h2>\n                    {this.getData()}\n                </div>\n            </div>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    return state;\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        _getList:(id,page,pageSize)=>{\n            dispatch(actions.getList(id,page,pageSize));\n        },\n        _indexHandle:(id)=>{\n            dispatch(indexHandle(\"GET_NAV_ID\",id));\n        }\n    }\n}\n\nconst List = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ListMain)\n\nexport default List;"]}