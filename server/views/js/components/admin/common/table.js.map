{"version":3,"sources":["/src/js/components/admin/common/table.js"],"names":[],"mappings":"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","file":"/src/js/components/admin/common/table.js","sourcesContent":["/**\n * Created by gaolei on 2017/4/21.\n *\n * 报表公共表格生成组件\n *\n * 传入表头，数据源DATA，\n *\n *\n *\n * width 可以设置表格宽度,默认100%，可以不传\n *\n * status 设置表格数据加载状态，默认为加载中,必传\n *\n * colspan 设置加载状态占满多少个表格行，否则默认1行，样式不美观，必传\n *\n * dataList 类型 array  例如[{name:'11'},{name:222}]\n *\n * titleList 类型 array  例如 [{title:\"名称\",type:\"name\",addClass:[\"red\",\"blue\"],htmlType:\"button\"},{title:\"城市\",type:'city'}]\n * 参数说明\n * {\n *  title:\"名称\",//标题名称，必传\n *  type:\"name\",//标题对应的KEY，必传\n *  addClass:[\"red\",\"blue\"],//TD的CLASS，为数组类型，默认可以不传\n *  htmlType:[{type:\"a\",text:\"\",addClass:[],callBack:null,param:key,bindType:key}],//标签类型，默认为文字，可不传\n *  type指定标签类型,a,button,span,\n *  text指定标签是否含有文字\n *  addClass指定标签是否含有CLASS\n *  callBack指定回调函数\n *  param指定回调函数里返回的参数\n *  bindType给标签 增加属性，这个属性的值，为该行的td的某个值，\n *  format:\"\" //格式化单位，针对数字千分位，金额千分位等  提供2种方法(number|money)，如需增加方法，可以自己添加\n *  parent:\"站点类型\"//是否有父标题，默认可以不传,\n *  colspan:1,//设置列,非必传\n *  rowspan:1,//设置行，非必传\n *  }\n *\n * 如果需要一个表头合并多个标题  [{name:\"名称\",parent:\"站点类型\"},{city:\"城市\",parent:\"站点类型\"}]\n * titleList 每个KEY 对应的值，会去对应dataList里每个KEY，这样才能一一对应生成标题对应所在单元格的值，请勿顺序传错\n */\nimport React from 'react';\nimport PlugTableLoading from './plugTableLoading';\n\n\nclass Table extends React.Component{\n    //渲染表头\n    creatHead(){\n        let title=this.props.titleList;\n        let isHasParent=false;\n        let html=[],childrenHtml=[],temp_title='';\n\n        for(let i=0;i<title.length;i++){\n            let name=title[i].title;\n            //判断是否含有父标题\n            if(title[i].parent){\n                isHasParent=true;\n                name=title[i].parent;\n                //判断单元格父标提是否一样，一样不输出TH\n                if(temp_title==title[i].parent){\n                    continue;\n                }else{\n                    temp_title=title[i].parent;\n                }\n            }else{\n                temp_title='';\n            }\n            //如果传有colspan或rowspan 设置\n            if(title[i].colspan){\n                html.push(<th className=\"text-c\" colSpan={title[i].colspan} key={i}>{name}</th>);\n            }else if(title[i].rowspan){\n                html.push(<th rowSpan={title[i].rowspan} key={i}>{name}</th>);\n            }else{\n                html.push(<th key={i}>{name}</th>);\n            }\n        }\n\n        if(isHasParent){\n            for(let i=0;i<title.length;i++){\n                //判断是否含有父标题\n                if(title[i].parent){\n                    childrenHtml.push(<th key={i}>{title[i].title}</th>);\n                }\n            }\n        }\n\n        if(childrenHtml.length>0){\n            return <thead><tr>{html}</tr><tr>{childrenHtml}</tr></thead>;\n        }else{\n            return <thead><tr>{html}</tr></thead>;\n        }\n\n    }\n    //渲染内容\n    creatBody(){\n        let data=this.props.dataList;\n        let html=[];\n        for(let i=0;i<data.length;i++){\n            html.push(<tr key={i}>{this.getData(data[i])}</tr>)\n        }\n        //如果有合计数据 并且 showTotal为true显示\n        if(this.props.totalData&&this.props.showTotal){\n            html.push(<tr key=\"total\"><td>合计</td>{this.getTotal()}</tr>)\n        }\n        return html;\n    }\n    //生成合计 样式数据\n    getTotal(){\n        let html=[];\n        for(let i=0;i<this.props.totalTitle.length;i++){\n            html.push(<td className=\"text-r\" key={i}>{this.props.totalTitle[i].type?(this.props.totalTitle[i].format?this.format(this.props.totalTitle[i].format,this.props.totalData[this.props.totalTitle[i].type]):this.props.totalData[this.props.totalTitle[i].type]):''}</td>)\n        }\n        return html;\n    }\n    //根据TITLE里的KEY，生成对应的TD值\n    getData(data){\n        let title=this.props.titleList;\n        let html=[];\n        for(let i=0;i<title.length;i++){\n            if(title[i].htmlType){\n                html.push(<td key={i} className={title[i].addClass&&this.getClass(title[i].addClass)}>{this.getChildrenTd(title[i],data)}</td>)\n            }else{\n                html.push(<td key={i} data-show={data[title[i].type]} className={title[i].addClass&&this.getClass(title[i].addClass)}>{title[i].format?this.format(title[i].format,data[title[i].type]):data[title[i].type]}</td>)\n            }\n        }\n        return html;\n    }\n\n    //根据htmlType生成对应的标签按钮\n    getChildrenTd(arr,data){\n        let html=[];\n        for(let i=0;i<arr.htmlType.length;i++){\n            if(typeof arr.htmlType[i].callBack !='function'){\n                arr.htmlType[i].callBack=function(){}\n            }\n            switch (arr.htmlType[i].type){\n                case \"a\":\n                    html.push(<a key={i} data-show={arr.htmlType[i].bindType?data[arr.htmlType[i].bindType]:''} onClick={arr.htmlType[i].callBack.bind(this,data[arr.htmlType[i].param])} className={arr.htmlType[i].addClass&&this.getClass(arr.htmlType[i].addClass)}>\n                        {arr.htmlType[i].text?arr.htmlType[i].text:''}\n                    </a>);\n                    break;\n                case \"button\":\n                    html.push(<button key={i} data-show={arr.htmlType[i].bindType?data[arr.htmlType[i].bindType]:''} onClick={arr.htmlType[i].callBack.bind(this,data[arr.htmlType[i].param])} className={arr.htmlType[i].addClass&&this.getClass(arr.htmlType[i].addClass)}>\n                        {arr.htmlType[i].text?arr.htmlType[i].text:''}\n                    </button>);\n                    break;\n                case \"span\":\n                    html.push(<span key={i} data-show={arr.htmlType[i].bindType?data[arr.htmlType[i].bindType]:''} onClick={arr.htmlType[i].callBack.bind(this,data[arr.htmlType[i].param])} className={arr.htmlType[i].addClass&&this.getClass(arr.htmlType[i].addClass)}>\n                     {arr.htmlType[i].text?arr.htmlType[i].text:''}\n                    </span>);\n                    break;\n                default :\n                    break;\n            }\n        }\n        return html;\n    }\n\n    //返回TD CLASS\n    getClass(val){\n        if(val){\n            return val.join(' ');\n        }\n    }\n\n    render(){\n        return(\n            <table style={{width:this.props.width?this.props.width:\"100%\"}}>\n                {this.creatHead()}\n                <tbody>\n                {this.props.status!=\"success\"?<PlugTableLoading colSpanCount={this.props.colspan} status={this.props.status} />:this.creatBody()}\n                </tbody>\n            </table>\n        )\n    }\n}\n\nexport default Table;"]}