{"version":3,"sources":["/src/js/actions/admin/roles/roles.js"],"names":[],"mappings":"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","file":"/src/js/actions/admin/roles/roles.js","sourcesContent":["import {ajaxErrorLog,dialogHandle} from '../dialog';\r\n//用户角色权限\r\nfunction setRolesState(options){\r\n    return {\r\n        type:\"ROLES_HANDLE\",\r\n        options\r\n    }\r\n}\r\n\r\n//用户角色列表\r\n\r\nfunction rolesUserList(options){\r\n\treturn dispatch=>{\r\n\t\t$.XlAjax({\r\n\t\t\turl:\"roleList\",\r\n\t\t\tdata:{\r\n\t\t\t\tcurPage:options.curPage,\r\n\t\t\t\tpageSize:options.pageSize,\r\n\t\t\t\troleName:options.searchText\r\n\t\t\t},\r\n\t\t\tsuccess:function(data){\r\n\t\t\t\t\r\n\t\t\t\tif(data.status==\"0000\"){\r\n\t\t\t\t\tlet tbodyList=\"\";\r\n\t\t\t\t\tif(data.data.data.length>0){\r\n\t\t\t\t\t\ttbodyList=\"success\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttbodyList=\"nothing\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdispatch(setRolesState({\r\n                        list:data.data.data,\r\n\t\t\t\t\t\ttotalSize:data.data.count,\r\n\t\t\t\t\t\tcurPage:options.curPage,\r\n\t\t\t\t\t\ttbodyList:tbodyList\r\n                    }));\r\n                    //options.callback(data.data.data);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdispatch(setRolesState({                        \r\n\t\t\t\t\t\ttbodyList:\"fail\"\r\n                    }));\r\n                    dispatch(dialogHandle({\r\n\t\t\t\t\t\tshow:true,\r\n\t\t\t\t\t\tcontent:data.message,\r\n\t\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\t\ttipsType:\"warning\"\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror:options.errorCallback,\r\n\t\t\terrorDialog:function(xhr, errorType, error){\r\n\t\t\t\tajaxErrorLog(xhr, errorType, error,dispatch);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n//删除角色\r\n\r\nfunction deleteRolesUser(options){\r\n\treturn dispatch=>{\r\n\t\t$.XlAjax({\r\n\t\t\turl:\"deleteRole\",\r\n\t\t\tdata:{\r\n\t\t\t\tid:options.id,\r\n\t\t\t\troleName:options.roleName\r\n\t\t\t},\r\n\t\t\tsuccess:function(data){\r\n\t\t\t\tif (data.status == \"0000\") {\r\n\t\t\t\t\tdispatch(dialogHandle({\r\n\t\t\t\t\t\tshow:true,\r\n\t\t\t\t\t\tcontent:\"删除成功\",\r\n\t\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\t\ttipsType:\"success\"\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tdispatch(setRolesState({\r\n\t\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t\t}));\r\n\t\t\t\t\toptions.callBack();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch(dialogHandle({\r\n\t\t\t\t\t\tshow:true,\r\n\t\t\t\t\t\tcontent:data.message,\r\n\t\t\t\t\t\ttype:\"tips\",\r\n\t\t\t\t\t\ttipsType:\"fail\"\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tdispatch(setRolesState({\r\n\t\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t\t}));\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror:function(){\r\n\t\t\t\tdispatch(setRolesState({\r\n\t\t\t\t\t\tsubmitFlag:true\r\n\t\t\t\t\t}));\r\n\t\t\t},\r\n\t\t\terrorDialog:function(xhr, errorType, error){\r\n\t\t\t\tajaxErrorLog(xhr, errorType, error,dispatch);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\nexport {\r\n\tsetRolesState,rolesUserList,deleteRolesUser\r\n};\r\n\r\n\r\n\r\n"]}