{"version":3,"sources":["/src/js/actions/admin/reportForm/siteAddDataDay.js"],"names":[],"mappings":"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","file":"/src/js/actions/admin/reportForm/siteAddDataDay.js","sourcesContent":["/**\r\n * Created by wanwan on 2017/4/24.\r\n *\r\n * 全辖站点增量日报（签约、数据、落地情况）-日\r\n */\r\nconst accounting=require(\"../../untils/accounting\");\r\nimport {ajaxErrorLog,dialogHandle} from '../dialog';\r\nfunction siteAddDataDayHandle(options){\r\n    return {\r\n        type:\"SITEADDDATADAY_HANDLE\",\r\n        options\r\n    }\r\n}\r\n\r\nfunction siteAddDataDayLoadData(options){\r\n\treturn dispatch=>{\r\n\t\t$.XlAjax({\r\n            url: \"nodeincDailyReport\",\r\n            type:\"GET\",\r\n            data: options.data,\r\n            success: function(response){\r\n            \tif(response.status == \"0000\"){\r\n            \t\tlet nodeincDailyList = response.data.data.nodeincDailyList;\r\n            \t\tif(nodeincDailyList.length>0){\r\n\t\t\t\t\t\tlet isShow=false;\r\n\t\t\t\t\t\tif(options.data.curPage==Math.ceil(response.data.count/options.data.pageSize)){\r\n\t\t\t\t\t\t\t//当前是最后一页\r\n\t\t\t\t\t\t\tisShow=true;\r\n\t\t\t\t\t\t}\r\n            \t\t\t/*for(let i=0;i<nodeincDailyList.length;i++){\r\n            \t\t\t\tnodeincDailyList[i].double10NodeRate = nodeincDailyList[i].double10NodeRate+\"%\";\r\n            \t\t\t\t\r\n            \t\t\t}\r\n            \t\t\tlet sumDouble10NodeRate =response.data.data.nodeincDailyExt.sumDouble10NodeRate+\"%\";\r\n            \t\t\tresponse.data.data.nodeincDailyExt.sumDouble10NodeRate=sumDouble10NodeRate;*/\r\n            \t\t\tdispatch(\r\n            \t\t\t\tsiteAddDataDayHandle({\r\n\t\t                        tableList:nodeincDailyList,\r\n\t\t                        tbodyList:\"success\",\r\n\t\t                        totalData:response.data.data.nodeincDailyExt,\r\n\t\t                        totalSize:response.data.count,\r\n\t\t\t\t\t\t\t\tshowTotal:isShow,\r\n\t\t                    })\r\n            \t\t\t);\r\n            \t\t}else{\r\n            \t\t\tdispatch(\r\n            \t\t\t\tsiteAddDataDayHandle({\r\n\t\t                        tableList:nodeincDailyList,\r\n\t\t                        tbodyList:\"nothing\",\r\n\t\t                        totalData:response.data.data.nodeincDailyExt,\r\n\t\t                        totalSize:response.data.count\r\n\t\t                    })\r\n            \t\t\t);\r\n            \t\t}            \t\t\r\n            \t}else{\r\n            \t\tdispatch(\r\n            \t\t\tsiteAddDataDayHandle({\r\n\t                        tbodyList:\"fail\"\r\n\t                    })\r\n            \t\t);\r\n            \t\tdispatch(\r\n            \t\t\tdialogHandle({\r\n            \t\t\t\tshow:true,\r\n\t                        type:\"tips\",\r\n\t                        tipsType:'fail',\r\n\t                        width:'300px',\r\n\t                        height:'300px',\r\n\t                        content:response.message,\r\n\t                        title:'提示',\r\n            \t\t\t})\r\n            \t\t);\r\n            \t}\r\n            \t\r\n            },\r\n            errorDialog:function(xhr, errorType, error){\r\n                ajaxErrorLog(xhr, errorType, error,dispatch);\r\n            }\r\n        });\r\n\t}\r\n}\r\n\r\nfunction siteAddDataDayExport(options){\r\n    return dispatch=>{\r\n        $.XlAjax({\r\n            url:\"nodeincDailyExportExcel\",\r\n            type:\"GET\",\r\n            data:options,\r\n            success:function(data){\r\n                if(data.status==\"0000\"){\r\n                    window.location.href=data.data.url;\r\n                }else{\r\n                    dispatch(dialogHandle({\r\n                        show:true,\r\n                        type:'tips',\r\n                        tipsType:'warning',\r\n                        content:data.message\r\n                    }))\r\n                }\r\n            },\r\n            errorDialog:function(xhr, errorType, error){\r\n                ajaxErrorLog(xhr, errorType, error,dispatch);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport  {siteAddDataDayHandle,siteAddDataDayLoadData,siteAddDataDayExport};"]}