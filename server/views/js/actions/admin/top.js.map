{"version":3,"sources":["/src/js/actions/admin/top.js"],"names":[],"mappings":";;;;;;;;;;;;;sBAKwC,UAAU;;;AAElD,SAAS,SAAS,CAAC,OAAO,EAAC;AACvB,WAAO;AACH,YAAI,EAAC,YAAY;AACjB,eAAO,EAAP,OAAO;KACV;CACJ;;;AAGD,SAAS,MAAM,CAAC,OAAO,EAAC;AACpB,WAAO,kBAAQ,EAAE;AACb,SAAC,CAAC,MAAM,CAAC;AACL,eAAG,EAAC,UAAU;AACd,mBAAO,EAAC,iBAAS,IAAI,EAAC;AAClB,oBAAG,IAAI,CAAC,MAAM,IAAE,MAAM,EAAC;AACnB,kCAAc,CAAC,KAAK,EAAE,CAAC;AACvB,0BAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC;iBAC9B;aACJ;AACD,uBAAW,EAAC,qBAAS,GAAG,EAAE,SAAS,EAAE,KAAK,EAAC;AACvC,0CAAa,GAAG,EAAE,SAAS,EAAE,KAAK,EAAC,QAAQ,CAAC,CAAC;aAChD;SACJ,CAAC;KACL;CACJ;;;AAGD,SAAS,WAAW,CAAC,OAAO,EAAC;AACzB,QAAI,KAAK,GAAG,IAAI,CAAC;AACjB,WAAO,kBAAQ,EAAE;AACb,SAAC,CAAC,MAAM,CAAC;AACL,eAAG,EAAC,UAAU;AACd,gBAAI,EAAC;AACD,sBAAM,EAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE;AACzB,sBAAM,EAAC,CAAC,CAAC,aAAa,CAAC,CAAC,GAAG,EAAE;aAChC;AACD,mBAAO,EAAC,iBAAS,IAAI,EAAC;AAClB,oBAAG,IAAI,CAAC,MAAM,IAAE,MAAM,EAAC;;AACnB,4BAAQ,CAAC,0BAAa;AAClB,4BAAI,EAAC,IAAI;AACT,4BAAI,EAAC,MAAM;AACX,+BAAO,EAAC,qBAAqB;AAC7B,4BAAI,EAAC,IAAI;AACT,+BAAO,EAAC,mBAAU;AACd,mCAAO,IAAI,CAAC;yBACf;AACD,4BAAI,EAAC,gBAAU;AACX,0CAAc,CAAC,KAAK,EAAE,CAAC;AACvB,mCAAO,CAAC,QAAQ,EAAE,CAAC;AACnB,kCAAM,CAAC,QAAQ,CAAC,IAAI,GAAC,GAAG,CAAC;yBAC5B;qBACJ,CAAC,CAAC,CAAC;iBACP,MAAK,IAAG,IAAI,CAAC,MAAM,IAAE,MAAM,EAAC;AACzB,2BAAO,CAAC,OAAO,EAAE,CAAC;iBACrB,MAAI;AACD,4BAAQ,CAAC,0BAAa;AAClB,4BAAI,EAAC,IAAI;AACT,4BAAI,EAAC,MAAM;AACX,gCAAQ,EAAC,SAAS;AAClB,+BAAO,EAAC,IAAI,CAAC,OAAO;qBACvB,CAAC,CAAC,CAAC;iBACP;aACJ;AACD,uBAAW,EAAC,qBAAS,GAAG,EAAE,SAAS,EAAE,KAAK,EAAC;AACvC,0CAAa,GAAG,EAAE,SAAS,EAAE,KAAK,EAAC,QAAQ,CAAC,CAAC;aAChD;SACJ,CAAC,CAAC;KACN;CACJ;;QAES,SAAS,GAAT,SAAS;QAAC,MAAM,GAAN,MAAM;QAAC,WAAW,GAAX,WAAW","file":"/src/js/actions/admin/top.js","sourcesContent":["/**\r\n * Created by gaolei on 2017/4/1.\r\n *\r\n * 顶部菜单模块\r\n */\r\nimport {dialogHandle,ajaxErrorLog} from './dialog';\r\n//顶部TOP模块事件处理\r\nfunction topHandle(options){\r\n    return {\r\n        type:\"TOP_HANDLE\",\r\n        options\r\n    }\r\n}\r\n\r\n//退出登录\r\nfunction logOut(options){\r\n    return dispatch=>{\r\n        $.XlAjax({\r\n            url:\"loginout\",\r\n            success:function(data){\r\n                if(data.status==\"0000\"){\r\n                    sessionStorage.clear();\r\n                    window.location.href = \"/\";\r\n                }\r\n            },\r\n            errorDialog:function(xhr, errorType, error){\r\n                ajaxErrorLog(xhr, errorType, error,dispatch);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n//重设密码\r\nfunction setPassWord(options){\r\n    var _this = this;\r\n    return dispatch=>{\r\n        $.XlAjax({\r\n            url:\"resetPwd\",\r\n            data:{\r\n                oldPwd:$(\"#oldPsd\").val(),\r\n                newPwd:$(\"#confirmPsd\").val()\r\n            },\r\n            success:function(data){\r\n                if(data.status==\"0000\"){//校验手机号码成功\r\n                    dispatch(dialogHandle({\r\n                        show:true,\r\n                        type:'tips',\r\n                        content:\"密码修改成功，2秒后自动跳转到登录页面\",\r\n                        time:2000,\r\n                        success:function(){\r\n                            return true;\r\n                        },\r\n                        hide:function(){\r\n                            sessionStorage.clear();\r\n                            options.callBack();\r\n                            window.location.href='/';\r\n                        }\r\n                    }));\r\n                }else if(data.status==\"9999\"){\r\n                    options.errMesg();\r\n                }else{\r\n                    dispatch(dialogHandle({\r\n                        show:true,\r\n                        type:'tips',\r\n                        tipsType:\"warning\",\r\n                        content:data.message\r\n                    }));\r\n                }\r\n            },\r\n            errorDialog:function(xhr, errorType, error){\r\n                ajaxErrorLog(xhr, errorType, error,dispatch);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport   {topHandle,logOut,setPassWord};"]}